(function(){
'use strict';for(var d="function"==typeof Object.defineProperties?Object.defineProperty:function(b,a,c){b!=Array.prototype&&b!=Object.prototype&&(b[a]=c.value)},g="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this,l=["Array","prototype","fill"],m=0;m<l.length-1;m++){var n=l[m];n in g||(g[n]={});g=g[n]}
var p=l[l.length-1],q=g[p],r=q?q:function(b,a,c){var e=this.length||0;0>a&&(a=Math.max(0,e+a));if(null==c||c>e)c=e;c=Number(c);0>c&&(c=Math.max(0,e+c));for(a=Number(a||0);a<c;a++)this[a]=b;return this};r!=q&&null!=r&&d(g,p,{configurable:!0,writable:!0,value:r});function t(b,a,c){this.x=b;this.y=a;this.type=0;this.direction=c;this.size=5;this.speed=1.5}var u=[new function(b,a,c,e){4==arguments.length&&(this.x=b,this.y=a,this.type=c,this.a=e,this.frame=0)}(500,500,6,5)],v=[];function w(b,a,c){v.push(new t(b,a,c))};var x=[];window.onkeyup=function(b){x[b.keyCode]=!1};window.onkeydown=function(b){x[b.keyCode]=!0};function y(b,a){z.shadowColor=b;z.shadowBlur=a;z.shadowOffsetX=0;z.shadowOffsetY=0}var A="M 0 6 L 2 0 L 4 6 L 3 3 L 1 3;M 0 6 L 0 0 A 1 1 0 1 1 0 3 A 1.5 1 0 0 1 0 6 L 0 3;M 3 0 Q 0 0 0 4 Q 0 6 3 6 ;M 0 6 L 0 0 A 1 1 0 1 1 0 6 ;M 3 6 L 0 6 L 0 3 L 2 3 L 0 3 L 0 0 L 3 0 ;M 1 6 L 1 3 L 3 3 L 1 3 L 1 0 L 4 0;M 2 4 L 4 4 A 2 3 0 1 1 4 2 ;M 0 0 L 0 6 L 0 3 L 3 3 L 3 0 L 3 6 ;M 1 6 L 3 6 L 2 6 L 2 0 L 1 0 L 3 0 ;M 0 5 C 0 7 2 7 2 5 L 2 1 L 1 1 L 3 1 ;M 0 6 L 0 0 L 0 3 L 2 1 L 0 3 L 3 6;M 0 0 L 0 6 L 3 6 ;M 0 6 L 0 0 L 2 2 L 4 0 L 4 6 ;M 0 6 L 0 0 L 4 6 L 4 0 ;M 2 6 A 0.5 1 0 1 1 2 0 A 0.5 1 0 1 1 2 6 ;M 0 6 L 0 0 A 1.5 1 0 1 1 0 3 ;M 3 4 L 4 6 A 1 1 0 1 1 2 1 A 1 1 0 1 1 4 6 ;M 0 6 L 0 0 A 1 1 0 1 1 0 3 L 2 6 ;M 0 6 C 4 7 4 3 2 3 C 0 3 0 -1 3 0 ;M 2 6 L 2 0 L 0 0 L 4 0 ;M 0 0 Q 0 6 1.5 6 Q 3 6 3 0;M 0 0 L 2 6 L 4 0;M 0 0 L 1 6 L 2 0 L 3 6 L 4 0 ;M 0 0 L 4 6 L 2 3 L 0 6 L 4 0 ;M 0 0 L 2 3 L 0 6 L 4 0;M 0 0 L 4 0 L 0 6 L 4 6 ;M 1 0 C 3 0 5 2 3 3 C 1 3.5 2.5 4 2.5 5 ".split(";");
function B(b,a,c,e,k){if(!(0>e||e>8*c.length+k)){if(null==k||void 0==k)k=8*c.length+180;c=c.toLowerCase();z.save();z.lineWidth=.8;z.lineCap="round";z.lineJoin="round";z.translate(b,a);z.scale(3,3);y("white",5);for(b=0;b<c.length;b++)z.globalAlpha=e>8*b?Math.min((e-8*b)/30,1):0,e>k+8*b&&(z.globalAlpha=Math.max(0,Math.min(1-(e-(k+8*b))/30,1))),a=c.charCodeAt(b),63==a?a=26:32==a?a=-1:10==a?(a=-1,z.translate(-5*(b+1),12)):a-=97,-1!=a&&z.stroke(A[a]),z.translate(5,0);z.restore()}};var z,C,D=1E3/60,E=0,F,G=4;
function H(){var b=Date.now();E+=b-F;for(F=b;E>=D;){switch(G){case 0:case 1:I++,1200<I&&(G=1);case 2:case 3:console.log(v.length);for(b=0;b<u.length;b++){var a=u[b];a.frame++;var c=-1;switch(a.a){case 0:.1>Math.random()&&(c=6.28*Math.random());break;case 1:0==a.frame%20&&(c=Math.atan2(J-a.y,K-a.x));break;case 2:0==a.frame%20&&(c=6.28*Math.random());break;case 3:0==a.frame%20&&(c=Math.atan2(J-a.y+30*Math.random()-15,K-a.x+30*Math.random()-15));break;case 4:0==a.frame%20&&(c=Math.atan2(J-a.y,K-a.x)+
.6*Math.random()-.3);break;case 5:0==a.frame%20&&(c=a.frame/20)}var e=a.x,k=a.y;if(-1!=c)switch(a.type){case 0:w(500,500,c);break;case 1:for(a=-.1;.15>a;a+=.1)w(e,k,c+a);break;case 2:for(a=-.3;.35>a;a+=.3)w(e,k,c+a);break;case 3:for(a=-.2;.25>a;a+=.1)w(e,k,c+a);break;case 4:for(a=-.6;.65>a;a+=.3)w(e,k,c+a);break;case 5:for(a=0;a<Math.PI+1;a+=Math.PI)w(e,k,c+a);break;case 6:for(a=0;a<2*Math.PI;a+=Math.PI/2)w(e,k,c+a);break;case 7:for(a=0;a<2*Math.PI;a+=Math.PI/4)w(e,k,c+a)}}for(b=0;b<v.length;b++)c=
v[b],-50>c.x||1050<c.x||-50>c.y||1050<c.y?c.x=-999:0==c.type&&(c.x+=Math.cos(c.direction)*c.speed,c.y+=Math.sin(c.direction)*c.speed);b=2;x[17]&&(b=1);x[38]&&(J-=b);x[40]&&(J+=b);x[37]&&(K-=b);x[39]&&(K+=b);L++;0==G&&(M+=Math.sin(L/60)/15);1<=G&&0<M&&(M-=.2);N=!1;a:{b=K;c=J;for(e=0;e<v.length;e++)if(-999!=v[e].x&&(v[e].x-b)*(v[e].x-b)+(v[e].y-c)*(v[e].y-c)<25+v[e].size*v[e].size){b=!0;break a}b=void 0}b&&(N=!0);break;case 4:if(O++,x[38]?(R&&S--,R=!1):x[40]?(R&&S++,R=!1):R=!0,S=(S+4)%4,x[32]){b=S;
switch(b){case 3:document.getElementById("editor").style.display="flex";document.getElementById("canvas").classList.add("canvasEdit");c=["randomly","at the player","rotating","cone at the player"];e=["very slow","slow","medium","fast"];k="simple bullet;triple bullet close;triple bullet wide;5 bullet close;5 bullet wide;2 bullet in opposite direction;4 bullet in opposite direction;8 bullet in opposite direction".split(";");a=["quick and small","quick and big","slow and small","slow and big"];for(var P=
["fixed","go to random point","go to player","erratic move"],Q=["slow","normal","fast","very fast"],h="",f=0;f<c.length;f++)h+="<option value="+f+">"+c[f]+"</option>";document.getElementById("target").innerHTML=h;h="";for(f=0;f<k.length;f++)h+="<option value="+f+">"+k[f]+"</option>";document.getElementById("firstMult").innerHTML=h;document.getElementById("secondMult").innerHTML=h;h="";for(f=0;f<e.length;f++)h+="<option value="+f+">"+e[f]+"</option>";document.getElementById("fireRate").innerHTML=h;
h="";for(f=0;f<a.length;f++)h+="<option value="+f+">"+a[f]+"</option>";document.getElementById("bulletType").innerHTML=h;h="";for(f=0;f<P.length;f++)h+="<option value="+f+">"+P[f]+"</option>";document.getElementById("movement").innerHTML=h;h="";for(f=0;f<Q.length;f++)h+="<option value="+f+">"+Q[f]+"</option>";document.getElementById("speed").innerHTML=h}G=b}}E-=D}y("transparent",0);z.fillStyle="rgba(0,0,0,0.25)";z.rect(0,0,1E3,1E3);z.fill();z.fillStyle="rgba(0,0,0,1)";switch(G){case 0:case 1:B(50,
400,"WHERE AM I?",I),B(400,400," Everyone ask the same\nquestion when they arrive",I-300),B(50,400,"What are you\ntalking about??",I-600);case 2:case 3:y("blue",10);z.strokeStyle="red";z.beginPath();for(b=0;b<v.length;b++)-999!=v[b].x&&(z.moveTo(v[b].x,v[b].y),z.arc(v[b].x,v[b].y,v[b].size,0,2*Math.PI));z.stroke();b=M;y(N?"blue":"white",10);z.lineWidth=4;z.strokeStyle="white";z.beginPath();z.arc(K,J,5,0,2*Math.PI);z.stroke();for(c=1;5>c;c++)z.globalAlpha=1/(c+1),z.beginPath(),z.arc(K,J,5+c*b/5,0,
2*Math.PI),z.stroke();z.globalAlpha=1;break;case 4:b=["Story","Infinite","Custom","Editor"];z.save();z.scale(5,5);z.strokeStyle="black";B(40,20,"Lost Soul",O,O+1);z.restore();z.save();z.scale(2,2);for(c=0;4>c;c++)z.strokeStyle=c==S?"rgba(255,255,255,"+(Math.sin(O/40)/8+.6)+")":"black",B(100,200+50*c,b[c],O,O+1);z.restore()}requestAnimationFrame(H)}
window.onload=function(){for(var b=0;b<A.length;b++)A[b]=new Path2D(A[b]);C=document.getElementById("canvas");C.width=1E3;C.height=1E3;z=C.getContext("2d");F=Date.now();H()};var O=0,S=0,R=!0;var K=120,J=500,M=10,L=0,N=!1;var I=900;
}).call(this)
